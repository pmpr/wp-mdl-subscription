<?php
/*   _______________________________________
    |  Obfuscated by PMPR - Php Obfuscator  |
    |             680106b4bee6c             |
    |_______________________________________|
*/
 namespace Pmpr\Module\Subscription\Woocommerce; use Pmpr\Common\Foundation\Interfaces\Constants; use Pmpr\Module\Subscription\Model\Plan; use Pmpr\Module\Subscription\Setting; use Pmpr\Module\Subscription\Traits\EnginTrait; class Cart extends Common { use EnginTrait; public function wigskegsqequoeks() { $this->qcsmikeggeemccuu('woocommerce_check_cart_items', [$this, 'ysegcsiuaoiqgysi'], 999); } public function kgquecmsgcouyaya() { $this->cecaguuoecmccuse('woocommerce_add_to_cart_validation', [$this, 'iiiiwomwsqgyiocq'], 10, 2); } public function ysegcsiuaoiqgysi() { $ksaameoqigiaoigg = true; $ekymkycgewkiouqe = $this->caokeucsksukesyo()->wikusamwomuogoau(); if ($iqweseqyieuissek = $ekymkycgewkiouqe->cqgggooocsmkckck()) { $kekgkgqeyesmkywu = 0; foreach ($ekymkycgewkiouqe->uakuwyoiooeqqiow() as $uusmaiomayssaecw => $qqswgiawgeaeoecu) { $product = $this->caokeucsksukesyo()->ywqgcuymeiswqyqc()->get($qqswgiawgeaeoecu, Constants::uiwqcumqkgikqyue); $umkkkaqkwugkemce = $this->caokeucsksukesyo()->aqasygcsqysmmyke()->iooowgsqoyqseyuu($product); if ($umkkkaqkwugkemce && $this->cuisyayqcsoqcueq($umkkkaqkwugkemce)) { $kekgkgqeyesmkywu++; $iswcokucwmiosiaq = ''; $omouioamescuegke = Plan::symcgieuakksimmu(); $ymqmyyeuycgmigyo = $product->get_name(); if ($this->uykissogmuaaocsg()->qwyoaaommsaiqagw()) { $iswcokucwmiosiaq = sprintf(__('Sorry, "%s" is not purchasable by users that already subscribed.', PR__MDL__SUBSCRIPTION), $ymqmyyeuycgmigyo); } else { if ($kekgkgqeyesmkywu > 1) { $iswcokucwmiosiaq = sprintf(__('Sorry, you can not subscribe to more than one plan.', PR__MDL__SUBSCRIPTION), $ymqmyyeuycgmigyo); } else { $gesuaewsacmmwoeo = $omouioamescuegke->ekgcwkmomkgiayuo($umkkkaqkwugkemce); if (Constants::eqewsqmqmsiocaeg !== $omouioamescuegke->ogegcqqcukiaqscy(Constants::ciywsqoeiymemsys, $gesuaewsacmmwoeo)) { $iswcokucwmiosiaq = sprintf(__('Sorry, "%s" is not an active plan.', PR__MDL__SUBSCRIPTION), $ymqmyyeuycgmigyo); } } } if ($iswcokucwmiosiaq) { $this->uwkmaywceaaaigwo()->wikusamwomuogoau()->yiggueaiwiygoiyi($iswcokucwmiosiaq, Constants::imkacwmiuiykyuim); $iqweseqyieuissek->set_quantity($uusmaiomayssaecw, 0); $ksaameoqigiaoigg = false; } } } } return $ksaameoqigiaoigg; } public function iiiiwomwsqgyiocq($yqicqqkokawiosom, $umkkkaqkwugkemce) : bool { if ($yqicqqkokawiosom && $this->cuisyayqcsoqcueq($umkkkaqkwugkemce)) { $omouioamescuegke = Plan::symcgieuakksimmu(); $gesuaewsacmmwoeo = $omouioamescuegke->ekgcwkmomkgiayuo($umkkkaqkwugkemce); $ekymkycgewkiouqe = $this->caokeucsksukesyo()->wikusamwomuogoau(); $cgceoyqmmwumqyqa = $this->uwkmaywceaaaigwo()->wikusamwomuogoau(); if ($gesuaewsacmmwoeo) { $ycyucwoysmwkgiui = null; if (Constants::eqewsqmqmsiocaeg !== $omouioamescuegke->ogegcqqcukiaqscy(Constants::ciywsqoeiymemsys, $gesuaewsacmmwoeo)) { $yqicqqkokawiosom = false; $ycyucwoysmwkgiui = $this->weysguygiseoukqw(Setting::oegukiicwyiqcswc, ''); } else { if ($this->ucygcmiuugoemkeo($ekymkycgewkiouqe->uakuwyoiooeqqiow())) { $yqicqqkokawiosom = false; $ycyucwoysmwkgiui = $this->weysguygiseoukqw(Setting::mimegqqmowgwyqsu, ''); } if ($yqicqqkokawiosom && $this->uykissogmuaaocsg()->qwyoaaommsaiqagw()) { $yqicqqkokawiosom = false; $ycyucwoysmwkgiui = $this->weysguygiseoukqw(Setting::uckosuiscwyyimgc, ''); } } if (!$yqicqqkokawiosom && $ycyucwoysmwkgiui) { $cgceoyqmmwumqyqa->yiggueaiwiygoiyi($ycyucwoysmwkgiui, Constants::imkacwmiuiykyuim); } } } return $yqicqqkokawiosom; } }
